From 4129312c830672fd699c5cac582dbb41391f5f19 Mon Sep 17 00:00:00 2001
From: "qinglin.li" <qinglin.li@amlogic.com>
Date: Fri, 19 May 2023 17:55:36 +0800
Subject: [PATCH] Revert "Delete python* symlinks."

This reverts commit 5a3d5b8afbc3e9c582db7594259e92a1fab4ba43.

Change-Id: Ie6579f302f36f1de2f6ae3439c4a97fbb1b90483
Signed-off-by: qinglin.li <qinglin.li@amlogic.com>
---
 BUILD.bazel                          | 3 +++
 build-tools/path/linux-x86/python    | 1 +
 build-tools/path/linux-x86/python2   | 1 +
 build-tools/path/linux-x86/python2.7 | 1 +
 build-tools/path/linux-x86/python3   | 1 +
 5 files changed, 7 insertions(+)
 create mode 120000 build-tools/path/linux-x86/python
 create mode 120000 build-tools/path/linux-x86/python2
 create mode 120000 build-tools/path/linux-x86/python2.7
 create mode 120000 build-tools/path/linux-x86/python3

diff --git a/BUILD.bazel b/BUILD.bazel
index 4a9fca1..3b734f3 100644
--- a/BUILD.bazel
+++ b/BUILD.bazel
@@ -34,6 +34,9 @@ hermetic_tools(
             "build-tools/path/**",
         ],
         allow_empty = False,
+        # TODO(b/274975942): Delete these symlinks and the exclude clause once
+        #   build.sh goes away.
+        exclude = ["**/python*"],
     ) + [
         "//prebuilts/clang/host/linux-x86/clang-{}:bin/llvm-strings".format(VARS["CLANG_VERSION"]),
     ],
diff --git a/build-tools/path/linux-x86/python b/build-tools/path/linux-x86/python
new file mode 120000
index 0000000..22177b8
--- /dev/null
+++ b/build-tools/path/linux-x86/python
@@ -0,0 +1 @@
+../../../../../prebuilts/build-tools/path/linux-x86/python
\ No newline at end of file
diff --git a/build-tools/path/linux-x86/python2 b/build-tools/path/linux-x86/python2
new file mode 120000
index 0000000..546dc8b
--- /dev/null
+++ b/build-tools/path/linux-x86/python2
@@ -0,0 +1 @@
+../../../../../prebuilts/build-tools/path/linux-x86/python2
\ No newline at end of file
diff --git a/build-tools/path/linux-x86/python2.7 b/build-tools/path/linux-x86/python2.7
new file mode 120000
index 0000000..31d80f5
--- /dev/null
+++ b/build-tools/path/linux-x86/python2.7
@@ -0,0 +1 @@
+../../../../../prebuilts/build-tools/path/linux-x86/python2.7
\ No newline at end of file
diff --git a/build-tools/path/linux-x86/python3 b/build-tools/path/linux-x86/python3
new file mode 120000
index 0000000..2568e99
--- /dev/null
+++ b/build-tools/path/linux-x86/python3
@@ -0,0 +1 @@
+../../../../../prebuilts/build-tools/path/linux-x86/python3
\ No newline at end of file
-- 
2.25.1

